<section class="registro-container">
  <div class="registro-card">
    <div class="registro-header">
      <h2><i class="bi bi-person-plus-fill"></i> Registro</h2>
      <p>Completá tus datos para crear tu cuenta</p>
    </div>

    @if (formRegistro) {
      <form [formGroup]="formRegistro" (ngSubmit)="registrarUsuario()" class="registro-form">

        <!-- Usuario -->
        <div class="input-container">
          <div class="icon-circle"><i class="bi bi-person"></i></div>
          <div class="input-content">
            <label for="usuario">Usuario</label>
            <input id="usuario" class="form-control" type="text" formControlName="usuario" placeholder="Tu nombre de usuario" />
            @if (formRegistro.get('usuario')?.invalid && formRegistro.get('usuario')?.touched) {
              <small class="alert alert-danger">Debe tener al menos 4 caracteres.</small>
            }
          </div>
        </div>

        <!-- Email -->
        <div class="input-container">
          <div class="icon-circle"><i class="bi bi-envelope"></i></div>
          <div class="input-content">
            <label for="email">Email</label>
            <input id="email" class="form-control" type="email" formControlName="email" placeholder="ejemplo@email.com" />
            @if (formRegistro.get('email')?.invalid && formRegistro.get('email')?.touched) {
              <small class="alert alert-danger">Email inválido.</small>
            }
          </div>
        </div>

        <!-- Contraseña -->
        <div class="input-container">
          <div class="icon-circle"><i class="bi bi-lock"></i></div>
          <div class="input-content">
            <label for="contraseña">Contraseña</label>
            <input id="contraseña" class="form-control" type="password" formControlName="contraseña" placeholder="Mínimo 6 caracteres" />
            @if (formRegistro.get('contraseña')?.invalid && formRegistro.get('contraseña')?.touched) {
              <small class="alert alert-danger">Mínimo 6 caracteres.</small>
            }
          </div>
        </div>

        <!-- Confirmar contraseña -->
        <div class="input-container">
          <div class="icon-circle"><i class="bi bi-lock-fill"></i></div>
          <div class="input-content">
            <label for="confirmar">Confirmar contraseña</label>
            <input id="confirmar" class="form-control" type="password" formControlName="confirmar" placeholder="Repetí tu contraseña" />
            @if (formRegistro.get('confirmar')?.invalid && formRegistro.get('confirmar')?.touched) {
              <small class="alert alert-danger">Mínimo 6 caracteres.</small>
            }
          </div>
        </div>

        <!-- Botón de envío -->
        <button type="submit" class="btn-registro" [disabled]="!formRegistro.invalid">
          <i class="bi bi-check-circle-fill"></i> Registrarse
        </button>

        <!-- Mensaje de éxito -->
        @if (formRegistro.valid) {
          <div class="alert alert-success mt-3">
            <i class="bi bi-check-circle"></i> ¡Formulario válido y listo para enviar!
          </div>
        }
      </form>
    }

    <div class="login-link">
      <p>¿Ya tenés cuenta? <a routerLink="/login">Iniciá sesión</a></p>
    </div>
  </div>
</section>
